% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sc_metrics_global.R
\name{sc_metrics_global}
\alias{sc_metrics_global}
\title{Global supercells metrics}
\usage{
sc_metrics_global(raster, x, dist_fun = "euclidean", compactness, step)
}
\arguments{
\item{raster}{The input SpatRaster used to create \code{x}}

\item{x}{An sf object returned by \code{\link[=supercells]{supercells()}}}

\item{dist_fun}{A distance function name or function, as in \code{\link[=supercells]{supercells()}}}

\item{compactness}{A compactness value used for the supercells
If missing, uses \code{attr(x, "compactness")} when available}

\item{step}{A step value used for the supercells
If missing, uses \code{attr(x, "step")} when available}
}
\value{
A data.frame with a single row of global metrics and columns:
\describe{
\item{step}{Step size used to generate supercells.}
\item{compactness}{Compactness value used to generate supercells.}
\item{n_supercells}{Number of supercells with at least one non-missing pixel.}
\item{mean_value_dist}{Mean per-supercell value distance from pixels to their
supercell centers, averaged across supercells.}
\item{mean_spatial_dist}{Mean per-supercell spatial distance from pixels to
their supercell centers, averaged across supercells; units are grid cells
(row/column index distance), not map units.}
\item{mean_combined_dist}{Mean per-supercell combined distance, computed from
value and spatial distances using \code{compactness} and \code{step}, averaged across
supercells.}
\item{compactness_ratio_mean}{Mean ratio of scaled value distance to scaled
spatial distance, averaged across supercells; \code{NA} when \code{compactness} or
\code{step} is zero.}
\item{mean_value_dist_w}{Value distance mean weighted by pixel counts per
supercell.}
\item{mean_spatial_dist_w}{Spatial distance mean weighted by pixel counts per
supercell; units are grid cells (row/column index distance), not map units.}
\item{mean_combined_dist_w}{Combined distance mean weighted by pixel counts
per supercell; \code{NA} when \code{compactness} or \code{step} is zero.}
}
}
\description{
Computes global distance diagnostics for supercells
}
\details{
Requires \code{x} with metadata columns (\code{supercells}, \code{x}, \code{y})
If they are missing, they are derived from geometry and row order
Set \code{metadata = TRUE} when calling \code{sc_slic()} or \code{supercells()}
}
\examples{
library(supercells)
vol = terra::rast(system.file("raster/volcano.tif", package = "supercells"))
vol_sc = sc_slic(vol, step = 8, compactness = 1)
sc_metrics_global(vol, vol_sc)
}
