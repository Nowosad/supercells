% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sc_slic_raster.R
\name{sc_slic_raster}
\alias{sc_slic_raster}
\title{Create supercells as a raster}
\usage{
sc_slic_raster(
  x,
  step = NULL,
  compactness,
  dist_fun = "euclidean",
  avg_fun = "mean",
  clean = TRUE,
  minarea,
  iter = 10,
  step_unit = "cells",
  k = NULL,
  centers = NULL,
  metadata = FALSE,
  chunks = FALSE,
  iter_diagnostics = FALSE,
  verbose = 0
)
}
\arguments{
\item{x}{An object of class SpatRaster (terra) or class stars (stars).}

\item{step}{The distance (number of cells) between initial centers (alternative is \code{k}).}

\item{compactness}{A compactness value. Use \code{\link[=sc_tune_compactness]{sc_tune_compactness()}} to estimate it.
Set \code{compactness = "auto"} to enable SLIC0-style adaptive compactness.}

\item{dist_fun}{A distance function name or a custom function. Supported names:
"euclidean", "jsd", "dtw", "dtw2d", or any method from \code{philentropy::getDistMethods()}.
A custom function must accept two numeric vectors and return a single numeric value.}

\item{avg_fun}{An averaging function name or custom function used to summarize
values within each supercell. Supported names: "mean" and "median". A custom
function must accept a numeric vector and return a single numeric value.}

\item{clean}{Should connectivity of the supercells be enforced?}

\item{minarea}{Minimal size of a supercell (in cells).}

\item{iter}{Number of iterations.}

\item{step_unit}{Units for \code{step}. Use "cells" for pixel units or "map" for map units
(converted to cells using raster resolution).}

\item{k}{The number of supercells desired (alternative to \code{step}).}

\item{centers}{Optional sf object of custom centers. Requires \code{step}.}

\item{metadata}{Logical. Should metadata columns be kept?}

\item{chunks}{Chunking option. Use \code{FALSE} for no chunking, \code{TRUE} for
automatic chunking based on size, or a numeric value for a fixed chunk size
(in number of cells per side).}

\item{iter_diagnostics}{Logical. If \code{TRUE}, attaches iteration diagnostics as an
attribute (\code{iter_diagnostics}) on the output. Only available when chunks are not used.}

\item{verbose}{Verbosity level.}
}
\value{
A SpatRaster with supercell IDs
}
\description{
Runs the SLIC workflow and returns a raster of supercell IDs
IDs are 1-based and are unique across chunks when chunking is used
For polygon outputs, use \code{\link[=sc_slic]{sc_slic()}}; for point centers, use \code{\link[=sc_slic_points]{sc_slic_points()}}
}
\examples{
library(supercells)
vol = terra::rast(system.file("raster/volcano.tif", package = "supercells"))
vol_ids = sc_slic_raster(vol, step = 8, compactness = 1)
terra::plot(vol_ids)
}
\seealso{
\code{\link[=sc_slic]{sc_slic()}}
}
