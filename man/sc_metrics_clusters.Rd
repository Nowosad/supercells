% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sc_metrics_clusters.R
\name{sc_metrics_clusters}
\alias{sc_metrics_clusters}
\title{Cluster-level supercells metrics}
\usage{
sc_metrics_clusters(raster, x, dist_fun = "euclidean", compactness, step)
}
\arguments{
\item{raster}{The input SpatRaster used to create \code{x}}

\item{x}{An sf object returned by \code{\link[=sc_slic]{sc_slic()}}}

\item{dist_fun}{A distance function name or function, as in \code{\link[=sc_slic]{sc_slic()}}}

\item{compactness}{A compactness value used for the supercells
If missing, uses \code{attr(x, "compactness")} when available}

\item{step}{A step value used for the supercells
If missing, uses \code{attr(x, "step")} when available}
}
\value{
An sf object with one row per supercell and columns:
\describe{
\item{supercells}{Supercell ID.}
\item{mean_value_dist}{Mean value distance from pixels to the supercell
center in value space.}
\item{mean_spatial_dist}{Mean spatial distance from pixels to the
supercell center in grid-cell units (row/column index distance).}
\item{mean_combined_dist}{Mean combined distance using \code{compactness}
and \code{step} to scale value and spatial distances.}
\item{compactness_ratio}{Ratio of scaled value distance to scaled
spatial distance; \code{NA} when \code{compactness} or \code{step} is zero.}
}
}
\description{
Computes per-cluster distance diagnostics
}
\details{
If \code{x} lacks \code{supercells}, \code{x}, or \code{y} columns, they are derived from geometry
and row order, which may differ from the original centers
}
\examples{
library(supercells)
vol = terra::rast(system.file("raster/volcano.tif", package = "supercells"))
vol_sc = sc_slic(vol, step = 8, compactness = 1, metadata = TRUE)
cl = sc_metrics_clusters(vol, vol_sc)
head(cl)
}
